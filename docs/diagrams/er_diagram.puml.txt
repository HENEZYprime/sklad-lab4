@startuml er_diagram
entity "Product" as product {
  + id : int [PK]
  name : string
  sku : string
  price : float
  min_stock : int
  is_active : bool
}

entity "Customer" as customer {
  + id : int [PK]
  name : string
}

entity "Order" as ord {
  + id : int [PK]
  customer_id : int [FK]
  order_date : date
  status : string
}

entity "OrderItem" as orderitem {
  + id : int [PK]
  order_id : int [FK]
  product_id : int [FK]
  quantity : int
}

entity "Stock" as stock {
  + id : int [PK]
  product_id : int [FK]
  quantity : int      ' текущий остаток по продукту
}

customer ||--o{ ord        : places
ord ||--o{ orderitem       : contains
product ||--o{ orderitem   : in_items
product ||--|| stock       : has_stock

@enduml
